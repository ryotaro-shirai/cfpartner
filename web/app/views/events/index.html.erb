<div class="page">
  <header class="page-header">
    <p class="eyebrow">CfP Tracker</p>
    <h1 class="page-title">CfPartner</h1>
    <p class="page-description">
      カンファレンスのCfP期限をひと目で把握できるシンプルな一覧です。
    </p>
  </header>

  <section class="events-section">
    <div class="events-grid">
      <% @events.each do |event| %>
        <% badge = cfp_status_badge(event) %>
        <%= link_to target_url_by_event_status(event), target: "_blank", rel: "noopener", class: "event-card-link" do %>
          <article class="event-card">
            <% if event.image_url.present? %>
              <div class="event-thumb">
                <%= image_tag event.image_url, alt: "#{event.name}のイメージ" %>
              </div>
            <% else %>
              <div class="event-thumb placeholder">No image</div>
            <% end %>

            <div class="event-body">
              <div class="event-meta">
                <span class="status-badge <%= badge[:tone] %>"><%= badge[:label] %></span>
                <% if should_display_days_left_until_deadline?(event) %>
                  <span class="event-deadline">締切まで： <%= days_left_until(event.cfp_end_at) %></span>
                <% end %>
              </div>

              <h3 class="event-title"><%= event.name %></h3>

              <p class="event-period">募集期間：<%= event_period_by_cfp_status(event) %></p>
            </div>
          </article>
        <% end %>
      <% end %>

      <% if @events.empty? %>
        <div class="empty-state">
          <p>まだイベントが登録されていません。</p>
          <p>左上の管理画面から追加してください。</p>
        </div>
      <% end %>
    </div>
  </section>
</div>
